# WebSocket Chat Application

## 環境構築

このプロジェクトをローカル環境で実行するためには、以下の手順に従ってください。

### 前提条件

- [Node.js](https://nodejs.org/) がインストールされていること
- [Docker](https://www.docker.com/) と [Docker Compose](https://docs.docker.com/compose/) がインストールされていること

### プロジェクトのクローン

まず、リポジトリをクローンします。

```
git clone https://github.com/kosukemiurajp/websocketchat.git
cd your-repository
```

### 依存関係のインストール

プロジェクトのルートディレクトリで、以下のコマンドを実行して依存関係をインストールします。

```
npm install
```

## 起動方法

プロジェクトを起動するには、以下の手順を実行します。

### Docker Compose を使用して起動

Docker Compose を使用して、`nginx` と `Node.js` のコンテナを起動します。

```
docker-compose up
```

このコマンドは、`nginx` と `Node.js` の両方のサービスを起動し、`nginx` が静的ファイルをホスティングし、`Node.js` が WebSocket サーバーを実行します。

### サーバーの起動確認

サーバーが正常に起動したら、ブラウザで以下の URL にアクセスします。

```
http://localhost:8080
```

## ローカルでの動作確認方法

ブラウザで以下の手順を実行して、ローカルでの動作確認を行います。

1. **ブラウザを開く**: 上記の URL にアクセスして、チャットアプリケーションが表示されることを確認します。
   
2. **ユーザー名とメッセージを入力**: ユーザー名とメッセージを入力し、`Send Message` ボタンをクリックしてメッセージを送信します。

3. **メッセージの表示確認**: メッセージがチャットログに表示されることを確認します。自分が送信したメッセージと他のユーザーのメッセージが適切に表示されることを確認します。

4. **途中参加の確認**: 別のブラウザやプライベートブラウジングモードを使用して、チャットルームに参加し、過去のチャット履歴が表示されることを確認します。

5. **エラーログの確認**: 開発者ツールのコンソールを開いて、エラーが発生していないことを確認します。

これで、プロジェクトのセットアップと動作確認が完了します。

## その他

- `Dockerfile` と `docker-compose.yml` の設定については、各ファイル内のコメントを参照してください。
- 追加の設定やカスタマイズが必要な場合は、[公式のドキュメント](https://docs.docker.com/) を参照してください。

---